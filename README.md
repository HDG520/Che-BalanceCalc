# 项目自述：化学方程式自动配平 + 定量计算

## 一、项目动机

- 教学辅助：结合 OCR 识别学生作业，可以实现简单方程式的自动批改，无需教师重复做机械的“对答案”工作。

- 在科研 /化工 /教育中，可以用于初步评估反应比例、估算理论产量、做反应设计初稿。后续可以扩展到更复杂场景：副反应、反应网络、动力学、浓度 /体积换算、热化学计算等。

- 个人学习技术与分享

## 二、技术路线

| 模块               | 功能                                                          | 主要技术 /算法                                        |
|------------------|-------------------------------------------------------------|-------------------------------------------------|
| **化学式解析 /分子表示**  | 将输入的反应式（如 “C3H8 + O2 -> CO2 + H2O”）解析成左右两侧分子、提取每个分子中各元素的原子数 | 自写化学式解析器（处理括号、多层嵌套、子式、系数前缀等）                    |
| **构建守恒方程 /矩阵 A** | 对每个元素写出守恒方程，左边反应物 + 右边产物，构成线性齐次方程组 Ax = 0                   | 用 Math.NET 等数值代数库构建矩阵、做 Nullspace 求解            |
| **系数求解 /整数化**    | 从 nullspace 得到基向量 /实数向量，选择合适 scale，把其转为正整数比例系数（最简比）         | 符号调整、scale 搜索、误差容忍、最大公约数简化等                     |
| **定量计算 /化学计量**   | 在已知系数 + 初始反应物摩尔数的基础上，计算产物量等                                 | 寻找限制试剂 (limiting reagent)，按比例计算消耗 /生成 /剩余       |
| **界面 /交互 /反馈**   | 自带测试集补全 /Latex渲染 /产物量 /错误提示                                 | 用 Avalonia 或其他跨平台 UI 框架 + 使用 MVVM 架构、命令绑定、数据绑定等 |

## 三、优势

### 科学性

使用线性代数 / nullspace 方法是严谨、可扩展且数学基础扎实的方法（而不是仅用“试猜 /调试”法）。这在复杂反应中更可靠。

### 跨学科价值

将化学问题抽象为数学 /算法问题（矩阵、线性方程、向量空间）

用编程实现，锻炼算法设计能力、数值方法理解、软件工程思维

### 实用性

可以立刻给出配平结果 + 定量结果，减少手工运算错误

可扩展：日后可以加入复杂反应网络、热力学计算、生成报告、批量处理等

### 可互动性

用户可以试不同反应式 /初始量，看到即时反馈

教师可以把这个工具用在课堂演示 /答疑 /作业检查

学生用工具练习配平 /定量题时，错误点能被快速定位

可用于初高中化学课程，提升教学效率
